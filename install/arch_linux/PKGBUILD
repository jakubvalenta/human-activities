# Maintainer: Jakub Valenta <jakub@jakubvalenta.cz>
pkgname=lidske-aktivity
pkgver=0.1.0
pkgrel=1
epoch=
pkgdesc="Lidsk√© aktivity"
arch=('any')
url=""
license=('GPL')
groups=()
depends=()
makedepends=("librsvg")
checkdepends=("python-pytest")
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tar.xz)
md5sums=('76836143bac6966ca7ec7d13b9947678')
noextract=()

build() {
  cd "$srcdir/$pkgname-$pkgver"

  make build
}

check() {
  cd "$srcdir/$pkgname-$pkgver"

  make -k check
}

_copy() {
  src="$srcdir/$1"
  dst="$pkgdir$2"
  mkdir -p "$dst"
  cp "$src" "$dst"
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  _copy data/lidske-aktivity.desktop /usr/share/applications/
  _copy data/lidske-aktivity.desktop /etc/xdg/autostart/
  _copy data/lidske-aktivity.png /usr/share/pixmaps/
  _copy data/lidske-aktivity.svg /usr/share/icons/hicolor/scalable/apps/

  python setup.py install --root="$pkgdir/" --optimize=1 --skip-build
}

# vim:set ts=2 sw=2 et:
