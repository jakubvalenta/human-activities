# Maintainer: Jakub Valenta <jakub@jakubvalenta.cz>
pkgname=lidske-aktivity
pkgver=0.1.1
pkgrel=1
epoch=
pkgdesc='Lidsk√© aktivity'
arch=('any')
url='https://lab.saloun.cz/jakub/art-lidske-aktivity-gtk'
license=('GPL')
groups=()
depends=()
makedepends=('librsvg')
checkdepends=('python-pytest')
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tar.xz)
md5sums=('23b6a91c773ad9d529f8b0d6ceffd9a4')
noextract=()

build() {
  cd "$srcdir/$pkgname-$pkgver"

  make build
}

check() {
  cd "$srcdir/$pkgname-$pkgver"

  make -k check
}

_copy() {
  mkdir -p "$2"
  cp "$1" "$2"
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  _copy data/lidske-aktivity.desktop "$pkgdir/usr/share/applications/"
  _copy data/lidske-aktivity.desktop "$pkgdir/etc/xdg/autostart/"
  _copy data/lidske-aktivity.png "$pkgdir/usr/share/pixmaps/"
  _copy data/lidske-aktivity.svg "$pkgdir/usr/share/icons/hicolor/scalable/apps/"

  python setup.py install --root="$pkgdir/" --optimize=1 --skip-build
}

# vim:set ts=2 sw=2 et:
